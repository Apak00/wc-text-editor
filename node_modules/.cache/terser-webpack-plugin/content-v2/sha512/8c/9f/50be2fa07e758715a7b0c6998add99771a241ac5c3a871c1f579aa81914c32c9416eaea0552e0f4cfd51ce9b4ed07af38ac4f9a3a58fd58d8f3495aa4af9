{"code":"!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=0)}([function(t,e,n){\"use strict\";n.r(e);n(1);function o(t){return(o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t,e){return!e||\"object\"!==o(e)&&\"function\"!=typeof e?function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t):e}function i(t){var e=\"function\"==typeof Map?new Map:void 0;return(i=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf(\"[native code]\")))return t;var n;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,o)}function o(){return a(t,arguments,l(this).constructor)}return o.prototype=Object.create(t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),u(o,t)})(t)}function a(t,e,n){return(a=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var o=[null];o.push.apply(o,e);var r=new(Function.bind.apply(t,o));return n&&u(r,n.prototype),r}).apply(null,arguments)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(){var t=document.createElement(\"div\");t.innerHTML='\\n    <style>\\n        :host(.adesso-text-editor) {\\n            margin:20px;\\n            flex:1;\\n        }\\n        .container {\\n             border: #dfdfdf 1px solid;\\n             border-radius: 6px;\\n             flex:1;\\n             background-color: #f1f1f1;\\n             padding: 16px;\\n        }\\n        .panel{\\n            margin-bottom: 20px;\\n        }\\n        .editor{\\n            border: #dfdfdf 1px solid;\\n            padding:10px;\\n        }\\n    </style>\\n    <div class=\"container\">\\n        <div class=\"panel\">\\n            <editor-button data-cmd=\"bold\" data-tag=\"strong\">\\n            </editor-button>\\n            <editor-button data-cmd=\"underline\" data-tag=\"u\">\\n            </editor-button>\\n            <editor-button data-cmd=\"italic\" data-tag=\"em\">\\n            </editor-button>\\n        </div>\\n        <div name=\"editor\" class=\"editor\" contenteditable>Simple <em>text</em> editor</div>\\n    </div>\\n    ';var e=function(e){function n(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,n),c(this,l(n).call(this))}var o,a,f;return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(n,i(HTMLElement)),o=n,f=[{key:\"observedAttributes\",get:function(){return[\"some\"]}}],(a=[{key:\"connectedCallback\",value:function(){this.hasChildNodes()||(this.appendChild(t),document.querySelector(\".editor\").innerHTML=document.querySelector(\".editor\").innerHTML.trim())}},{key:\"attributeChangedCallback\",value:function(t,e,n){switch(console.log(\"\".concat(t,\" changed from \").concat(e,\" to \").concat(n)),t){case\"some\":console.log(\"some prop changed\")}}}])&&r(o.prototype,a),f&&r(o,f),n}();customElements.define(\"adesso-text-editor\",e)}()},function(t,e){function n(t){return(n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function c(t){var e=\"function\"==typeof Map?new Map:void 0;return(c=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf(\"[native code]\")))return t;var n;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,o)}function o(){return i(t,arguments,u(this).constructor)}return o.prototype=Object.create(t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),a(o,t)})(t)}function i(t,e,n){return(i=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var o=[null];o.push.apply(o,e);var r=new(Function.bind.apply(t,o));return n&&a(r,n.prototype),r}).apply(null,arguments)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l;l=function(t){function e(){var t,o,c;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),o=this,c=u(e).call(this),t=!c||\"object\"!==n(c)&&\"function\"!=typeof c?r(o):c,Object.defineProperty(r(r(t)),\"cmdEvent\",{value:function(){console.log(\"BUTTON CLICKED\");var e,n,o=document.querySelector(\".editor\"),r=t.tag;if(window.getSelection()&&!(e=window.getSelection().getRangeAt(0)).collapsed&&t.isDescendantOrSame(o,e.commonAncestorContainer)){var c=document.createElement(\"span\");if(c.setAttribute(\"class\",\"selection-wrapper\"),c.appendChild(e.extractContents()),e.insertNode(c),n=c.parentNode,t.hasParentTagged(r,c))n.localName!==r||n.firstChild.data||n.lastChild.data||3!==n.childNodes.length?(console.log(\"tag present but selection does not encapsulate tag\"),(n=t.hasParentTagged(r,c)).outerHTML=n.outerHTML.replace(/<span class=\"selection-wrapper\">.*<\\/span>/g,\"</\".concat(r,\">\").concat(c.innerHTML,\"<\").concat(r,\">\"))):(console.log(\"tag present and selection encapsulates the content inside of tag\"),c.parentNode.outerHTML=c.innerHTML);else{console.log(\"tag does not present\");var i=new RegExp(\"<\".concat(r,\">|</\").concat(r,\">\"),\"g\");c.outerHTML=\"<\".concat(r,\">\").concat(c.innerHTML.replace(i,\"\"),\"</\").concat(r,\">\")}}t.clearDuplicateTags(o)}}),t.init(),t}var i,l,f;return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(e,c(HTMLElement)),i=e,f=[{key:\"observedAttributes\",get:function(){return[\"data-cmd\",\"data-tag\",\"data-default-ui\",\"data-cmd-value\"]}}],(l=[{key:\"clearDuplicateTags\",value:function(t){t.innerHTML=t.innerHTML.replace(/<([a-z]*)><\\/\\1>/g,\"\"),t.innerHTML=t.innerHTML.replace(/<\\/([a-z]*)><\\1>/g,\"\")}},{key:\"isDescendantOrSame\",value:function(t,e){return!!e&&(!!e.isEqualNode(t)||this.isDescendantOrSame(t,e.parentNode))}},{key:\"hasParentTagged\",value:function(t,e){return!!e&&(t===e.localName?e:this.hasParentTagged(t,e.parentNode))}},{key:\"init\",value:function(){var t=document.createElement(\"button\");t.innerHTML=\"\\n                <style>\\n                i{\\n                    width: 20px;\\n                    height: 20px;\\n                    font-size: 20px;\\n                    color: steelblue;\\n                }\\n                </style>\\n                <i></i>\\n                \",t.style=\"padding:6px;\",this.appendChild(t),this.querySelector(\"button\").addEventListener(\"click\",this.cmdEvent)}},{key:\"attributeChangedCallback\",value:function(t,e,n){switch(console.log(\"\".concat(t,\" changed from \").concat(e,\" to \").concat(n)),t){case\"data-cmd\":this.querySelector(\"i\").setAttribute(\"class\",\"fas fa-\".concat(n))}}},{key:\"cmd\",get:function(){return this.getAttribute(\"data-cmd\")},set:function(t){this.setAttribute(\"data-cmd\",t)}},{key:\"tag\",get:function(){return this.getAttribute(\"data-tag\")},set:function(t){this.setAttribute(\"data-tag\",t)}}])&&o(i.prototype,l),f&&o(i,f),e}(),customElements.define(\"editor-button\",l)}]);","extractedComments":[]}